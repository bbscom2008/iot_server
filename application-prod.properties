# 生产环境配置文件
# 使用方式: java -jar app.jar --spring.profiles.active=prod

spring.application.name=IoT-System

# MySQL Database Configuration（生产环境）
spring.datasource.url=jdbc:mysql://localhost:3306/iot_system?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf8
spring.datasource.username=root
spring.datasource.password=你的生产环境MySQL密码
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 连接池配置
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# MyBatis Configuration
mybatis.mapper-locations=classpath:mapper/*.xml
mybatis.type-aliases-package=com.example.demo.entity
mybatis.type-handlers-package=com.example.demo.handler
mybatis.configuration.map-underscore-to-camel-case=true
# 生产环境关闭 SQL 日志
mybatis.configuration.log-impl=org.apache.ibatis.logging.nologging.NoLoggingImpl

# JWT Configuration（生产环境使用更复杂的密钥）
jwt.secret=your-super-secret-production-key-change-this-to-a-very-long-random-string-2024
jwt.expiration=3600000

# Server Configuration
server.port=8080
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Jackson Configuration
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=GMT+8
spring.jackson.default-property-inclusion=non_null

# Logging Configuration
logging.level.root=INFO
logging.level.com.example.demo=INFO
logging.level.org.springframework.web=WARN
logging.file.name=/opt/iot-app/logs/app.log
logging.file.max-size=100MB
logging.file.max-history=30
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n

# 性能优化
spring.jmx.enabled=false
spring.output.ansi.enabled=never

