# IoTç³»ç»Ÿ - 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹ âš¡

## ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
mysql -u root -p
source iot_database_init.sql
```

æˆ–è€…åœ¨MySQLå®¢æˆ·ç«¯æ‰§è¡Œ `iot_database_init.sql` æ–‡ä»¶ã€‚

---

## ç¬¬äºŒæ­¥ï¼šä¿®æ”¹é…ç½®ï¼ˆ30ç§’ï¼‰

ç¼–è¾‘ `src/main/resources/application.properties`ï¼š

```properties
spring.datasource.password=ä½ çš„MySQLå¯†ç 
```

---

## ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨åç«¯ï¼ˆ1åˆ†é’Ÿï¼‰

**åœ¨IDEä¸­ï¼š**
- ç›´æ¥è¿è¡Œ `src/main/java/com/example/demo/DemoApplication.java`

**æˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š**
```bash
mvn spring-boot:run
```

çœ‹åˆ°ç±»ä¼¼è¾“å‡ºè¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
Started DemoApplication in 3.456 seconds
```

---

## ç¬¬å››æ­¥ï¼šæµ‹è¯•ç™»å½•ï¼ˆ1åˆ†é’Ÿï¼‰

**æ–¹æ³•1ï¼šä½¿ç”¨Postman**

```
POST http://localhost:8080/user/login
Content-Type: application/json

{
  "phone": "13800138000",
  "password": "123456"
}
```

**æ–¹æ³•2ï¼šä½¿ç”¨curl**

```bash
curl -X POST http://localhost:8080/user/login \
  -H "Content-Type: application/json" \
  -d '{"phone":"13800138000","password":"123456"}'
```

**æˆåŠŸå“åº”ï¼š**
```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "token": "eyJhbG...",
    "user": {
      "id": 1,
      "phone": "13800138000",
      "nikeName": "æµ‹è¯•ç”¨æˆ·"
    }
  }
}
```

---

## ç¬¬äº”æ­¥ï¼šæµ‹è¯•è®¾å¤‡æ¥å£ï¼ˆ1åˆ†é’Ÿï¼‰

å¤åˆ¶ä¸Šä¸€æ­¥è·å–çš„tokenï¼Œæµ‹è¯•è·å–è®¾å¤‡åˆ—è¡¨ï¼š

```
GET http://localhost:8080/device/list?pageNum=1&pageSize=10
Authorization: ä½ çš„tokenå€¼
```

**æˆåŠŸå“åº”ï¼š**
```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "list": [
      {
        "id": 1,
        "deviceNum": "DEV001",
        "deviceName": "1å·çŒªèˆæŠ¥è­¦å™¨",
        "deviceType": 0,
        "ta": 25.5,
        "tb": 26.0,
        "humidity": 60.5
      }
    ],
    "total": 3
  }
}
```

---

## ç¬¬å…­æ­¥ï¼šè¿æ¥å‰ç«¯ï¼ˆ1åˆ†é’Ÿï¼‰

ä¿®æ”¹å‰ç«¯é¡¹ç›®çš„APIåœ°å€ï¼š

**æ–‡ä»¶ï¼š** `C:\Users\Administrator\Desktop\server\dspace\src\utils\request.js`

```javascript
// ç¬¬2è¡Œï¼Œä¿®æ”¹ä¸ºï¼š
const BASE_URL = 'http://localhost:8080/'
```

å¯åŠ¨å‰ç«¯ï¼š
```bash
cd C:\Users\Administrator\Desktop\server\dspace
npm run dev:h5
```

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å¯ä»¥ï¼š

1. âœ… æ‰“å¼€å‰ç«¯H5é¡µé¢
2. âœ… ä½¿ç”¨ `13800138000` / `123456` ç™»å½•
3. âœ… æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨
4. âœ… æŸ¥çœ‹æŠ¥è­¦ä¿¡æ¯
5. âœ… ç®¡ç†ä¸ªäººä¿¡æ¯

---

## ğŸ“‹ æµ‹è¯•è´¦å·

| æ‰‹æœºå· | å¯†ç  | è¯´æ˜ |
|--------|------|------|
| 13800138000 | 123456 | æ‹¥æœ‰3ä¸ªè®¾å¤‡ï¼ˆå«æŠ¥è­¦ï¼‰ |
| 13900139000 | 123456 | æ‹¥æœ‰1ä¸ªè®¾å¤‡ |

---

## ğŸ”Œ ä¸»è¦APIç«¯ç‚¹

| åŠŸèƒ½ | ç«¯ç‚¹ |
|------|------|
| ç”¨æˆ·ç™»å½• | POST `/user/login` |
| è®¾å¤‡åˆ—è¡¨ | GET `/device/list` |
| è®¾å¤‡ç»Ÿè®¡ | GET `/device/statistics` |
| æŠ¥è­¦åˆ—è¡¨ | GET `/device/warning/list` |
| å­—å…¸æ•°æ® | GET `/user/dict/data/list` |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **MySQLå¿…é¡»è¿è¡Œ** - ç¡®ä¿MySQLæœåŠ¡å·²å¯åŠ¨
2. **ç«¯å£ä¸èƒ½å ç”¨** - 8080ç«¯å£å¿…é¡»å¯ç”¨
3. **Tokenå¿…é¡»æºå¸¦** - é™¤ç™»å½•å¤–çš„æ¥å£éƒ½éœ€è¦Authorizationå¤´éƒ¨

---

## ğŸ› é‡åˆ°é—®é¢˜ï¼Ÿ

### å¯åŠ¨å¤±è´¥ï¼Ÿ
- æ£€æŸ¥MySQLæ˜¯å¦è¿è¡Œ
- æ£€æŸ¥ç«¯å£8080æ˜¯å¦è¢«å ç”¨
- æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### ç™»å½•å¤±è´¥ï¼Ÿ
- æ£€æŸ¥æ•°æ®åº“æ˜¯å¦åˆå§‹åŒ–
- æ£€æŸ¥ç”¨æˆ·è¡¨æ˜¯å¦æœ‰æ•°æ®

### å‰ç«¯è¿æ¥å¤±è´¥ï¼Ÿ
- æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨
- æ£€æŸ¥APIåœ°å€æ˜¯å¦æ­£ç¡®
- æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯

---

## ğŸ“š æ›´å¤šæ–‡æ¡£

- `IoTç³»ç»Ÿéƒ¨ç½²æŒ‡å—.md` - å®Œæ•´éƒ¨ç½²æ–‡æ¡£
- `APIæ¥å£æ¸…å•.md` - æ‰€æœ‰APIè¯´æ˜
- `å‰åç«¯å¯¹æ¥æ”¹é€ æ–¹æ¡ˆ.md` - æ¶æ„è¯´æ˜

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

